PCA9555

Адреса регистров:
0 Input  port 0					Входной порт 0
1 Input  port 1					Входной порт 1
2 Output port 0					Выходной порт 0
3 Output port 1					Выходной порт 1
4 Polarity Inversion port 0		Порт инверсии полярности 0
5 Polarity Inversion port 1		Порт инверсии полярности 1
6 Configuration port 0			Порт конфигурации 0
7 Configuration port 1			Порт конфигурации 1

Регистры 0 и 1 (Input port): Регистры для чтения. Запись в эти регистры не имеет никакого эффекта.
Отражают входящие логические уровни контактов, независимо от того, определен ли контакт как вход или выход в регистрах 6 и 7.
Значение по умолчанию зависит от логических уровней на выводах.

Регистры 2 и 3 (Output port): Регистры для чтения и записи.
Запись значений определяет логические уровни контактов, сконфигурированных как выходы регистрами 6 и 7. 
Чтение отражает значение, которое находится в триггере, а не фактическое значение вывода.
Значение по умолчанию 0xFF.

Регистры 4 и 5 (Polarity Inversion): регистры инверсии полярности.
Эти регистры позволяют пользователю инвертировать полярность данных регистров 0 и 1.
Если бит в этом регистре установлен (1), полярность данных входного порта инвертируется.
Если бит в этом регистре очищен     (0), полярность данных входного порта сохраняется.
Значение по умолчанию 0x00.

Регистры 6 и 7 (Configuration): регистры конфигурации.
Эти регистры настраивают направления контактов ввода/вывода.
Если бит в этом регистре установлен (1), соответствующий вывод порта активируется как вход с высоким импедансом.
Если бит в этом регистре сброшен    (0), соответствующий вывод порта становится выходным.
Обратите внимание, что каждый вывод внутрисхемно подтянут до Vcc через 100кОм.
Значение по умолчанию 0xFF.

Восемь регистров сконфигурированы как четыре пары: Input ports, Output ports, Polarity Inversion ports, Configuration port.
При пакетном чтении записи данных, будут задействованы только 2 регистра пары.
Пример: передаем байт адреса модуля, байт регистра 3, байт данных, байт данных, байт данных. Первый байт данных запишется в регистр 3, далее в регистр 2 и опять в регистр 3.

Сброс при включении питания:
После подачи питания модуль находится в состоянии сброса пока Vcc не достигнет VPOR.
После того как Vcc превысит VPOR модуль инициализируется до состояния по умолчанию.
Если требуется перезагрузить модуль понижением питания, то рекомендуется понизить его ниже 0,2 В.

Порт ввода-вывода:
Если ввод-вывод сконфигурирован как вход, полевые транзисторы Q1 и Q2 выключены, создавая вход с высоким импедансом со слабой подтяжкой к Vcc. Входное напряжение может быть выше Vcc, максимум 5,5 В.
Если ввод/вывод сконфигурирован как выход, то включается либо Q1, либо Q2, в зависимости от состояния регистра выходного порта.

Выход прерывания:
Выход прерывания с открытым стоком активируется, когда логический уровень вывода сконфигурированного как вход отличается от данных регистра входного порта (Input port).
Прерывание деактивируется, когда вход возвращается в свое предыдущее состояние или считывается регистр входного порта (Input port).
Вывод, сконфигурированный как выход, не может вызвать прерывание.
Поскольку каждый 8-битный порт читается независимо, прерывание, вызванное портом 0, не будет сброшено чтением порта 1 или наоборот.
Примечание: изменение ввода/вывода с выхода на вход может вызвать ложное прерывание, если состояние вывода не соответствует содержимому регистра входного порта (Input port).

